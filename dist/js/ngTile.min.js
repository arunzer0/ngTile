"use strict";angular.module("ngTile",[]).constant("ngTileConfig",{defaultColors:["#663399","#2c3e50","#95a5a6","#26C281","#D33257","#87766C","#A0B58D","#00B5B5","#897FBA","#953163","#3E4651","#2C82C9","#FF6766","#CD6B97","#E67E22"]}).value("usedColors",[]).factory("ngTileSettings",["ngTileConfig","usedColors",function(i,t){return{setRandomColors:function(e,n){var o=angular.copy(i.defaultColors),l=[],s=!1,a=!1;void 0!==e&&(o=angular.copy(e)),void 0===n&&(n=[""],s=!0);for(var r in n)if(0===o.length&&(o=void 0!==e?angular.copy(e):angular.copy(i.defaultColors)),s){t.length===o.length&&(a=!0,t=[t[t.length-1]]);for(var c,d=Math.random()*o.length,c=o[Math.floor(d)];t.indexOf(c)!==-1;)c=o[Math.floor(Math.random()*o.length)];a&&(a=!1,t.splice(0,1)),l.push(c),t.push(c)}else{var d=Math.random()*o.length,c=o[Math.floor(d)];o.splice(d,1),l.push(c)}return l}}}]).directive("singleTile",["ngTileSettings",function(i){return{restrict:"E",scope:!0,link:function(t,e,n){t.setRandomColors=i.setRandomColors(),n.$observe("stat",function(i){t.stat=n.stat}),n.$observe("title",function(i){t.title=n.title}),n.$observe("color",function(i){t.color=n.color}),n.$observe("icon",function(i){t.icon=n.icon}),n.$observe("tileType",function(i){t.tileType=n.tileType}),n.$observe("link",function(i){t.link=n.link}),n.$observe("target",function(i){t.target=n.target}),t.onClick=function(i,t){i&&window.open(i,t?t:"")}},template:'<div class="{{link != undefined ? \'tileLink\' : \'\'}}" ng-click="onClick(link, target)"><div class="{{tileType}}" ng-style="{\'background-color\': color != undefined && color || setRandomColors[0]}" ng-href="link"><div class="iconPos"><i class ="{{icon}}"></i></div><p class="middle"><b>{{stat}}</b></p><div class="title"><b>{{title}}</b></div></div></div>'}}]).directive("tiles",["ngTileSettings",function(i){return{restrict:"E",scope:{tileParams:"="},link:function(t,e,n){t.$watch("tileParams",function(e){e&&(t.setRandomColors=i.setRandomColors(t.tileParams.colors,t.tileParams.data))}),t.onClick=function(i,t){i&&window.open(i,t?t:"")}},template:'<div ng-repeat="i in tileParams.data"><div class="{{tileParams.colSize}} tileCol"><div class="{{tileParams.tileType}} {{ i.link != undefined ? \'tileLink\' : \'\'}}" ng-style="{\'background-color\': setRandomColors[$index]}" ng-click="onClick(i.link, i.target)"><div class="iconPos"><i class="{{i.icon}}"></i></div><p class="middle"><b>{{i.stat}}</b></p><div class="title"><b>{{i.title}}</b></div></div></div></div>'}}]);