"use strict";angular.module("ngTile",[]).constant("ngTileConfig",{defaultColors:["#663399","#2c3e50","#95a5a6","#26C281","#D33257","#87766C","#A0B58D","#00B5B5","#897FBA","#953163","#3E4651","#2C82C9","#FF6766","#CD6B97","#E67E22"]}).value("usedColors",[]).factory("ngTileSettings",["ngTileConfig","usedColors",function(e,t){return{setRandomColors:function(n,i){var o=angular.copy(e.defaultColors),l=[],a=!1,s=!1;void 0!==n&&(o=angular.copy(n)),void 0===i&&(i=[""],a=!0);for(var r in i)if(0===o.length&&(o=void 0!==n?angular.copy(n):angular.copy(e.defaultColors)),a){t.length===o.length&&(s=!0,t=[t[t.length-1]]);for(var c,d=Math.random()*o.length,c=o[Math.floor(d)];t.indexOf(c)!==-1;)c=o[Math.floor(Math.random()*o.length)];s&&(s=!1,t.splice(0,1)),l.push(c),t.push(c)}else o.splice(d,1),l.push(c);return l}}}]).directive("singleTile",["ngTileSettings",function(e){return{restrict:"E",scope:!0,link:function(t,n,i){t.setRandomColors=e.setRandomColors(),i.$observe("stat",function(e){t.stat=i.stat}),i.$observe("title",function(e){t.title=i.title}),i.$observe("color",function(e){t.color=i.color}),i.$observe("icon",function(e){t.icon=i.icon}),i.$observe("tileType",function(e){t.tileType=i.tileType}),i.$observe("link",function(e){t.link=i.link}),i.$observe("target",function(e){t.target=i.target})},template:'\n            <a class ="{{link == undefined && \'noTileLink\' || \'\'}}" href="{{link != undefined && link || \'javascript:;\'}}" target="{{target}}" style="text-decoration: none;">\n                <div class ="{{tileType}}" style="background-color: {{color != undefined && color || setRandomColors[0]}}" ng-href="link">\n                    <div class ="iconPos"><i class ="{{icon}}"></i></div>\n                    <p class ="middle"><b>{{stat}}</b></p>\n                    <div class ="title"><b>{{title}}</b></div>\n                </div>\n            </a>'}}]).directive("tiles",["ngTileSettings",function(e){return{restrict:"E",scope:{tileParams:"="},link:function(t,n,i){t.$watch("tileParams",function(n){n&&(t.setRandomColors=e.setRandomColors(t.tileParams.colors,t.tileParams.data))})},template:'\n            <a ng-repeat="i in tileParams.data" class ="{{tileParams.data[$index].link == undefined && \'noTileLink\' || \'\'}}" href="{{tileParams.data[$index].link != undefined && tileParams.data[$index].link || \'javascript:void(0)\'}}" target="{{tileParams.data[$index].target}}" style="text-decoration: none;">\n                <div class ="{{tileParams.colSize}} tileCol">\n                       <div class ="{{tileParams.tileType}}" style="background-color: {{setRandomColors[$index]}}">\n                            <div class="iconPos"><i class="{{i.icon}}"></i></div>\n                            <p class="middle"><b>{{i.stat}}</b></p>\n                            <div class="title"><b>{{i.title}}</b></div>\n                        </div>\n                   </div>\n            </a>'}}]);