"use strict";angular.module("ngTile",[]).constant("ngTileConfig",{defaultColors:["#663399","#2c3e50","#95a5a6","#26C281","#D33257","#87766C","#A0B58D","#00B5B5","#897FBA","#953163","#3E4651","#2C82C9","#FF6766","#CD6B97","#E67E22"]}).value("usedColors",[]).factory("ngTileSettings",["ngTileConfig","usedColors",function(e,t){return{setRandomColors:function(i,n){var o=angular.copy(e.defaultColors),l=[],a=!1,s=!1;void 0!==i&&(o=angular.copy(i)),void 0===n&&(n=[""],a=!0);for(var r in n)if(0===o.length&&(o=void 0!==i?angular.copy(i):angular.copy(e.defaultColors)),a){t.length===o.length&&(s=!0,t=[t[t.length-1]]);for(var d,c=Math.random()*o.length,d=o[Math.floor(c)];t.indexOf(d)!==-1;)d=o[Math.floor(Math.random()*o.length)];s&&(s=!1,t.splice(0,1)),l.push(d),t.push(d)}else{var c=Math.random()*o.length,d=o[Math.floor(c)];o.splice(c,1),l.push(d)}return l}}}]).directive("singleTile",["ngTileSettings",function(e){return{restrict:"E",scope:!0,link:function(t,i,n){t.setRandomColors=e.setRandomColors(),n.$observe("stat",function(e){t.stat=n.stat}),n.$observe("title",function(e){t.title=n.title}),n.$observe("color",function(e){t.color=n.color}),n.$observe("icon",function(e){t.icon=n.icon}),n.$observe("tileType",function(e){t.tileType=n.tileType}),n.$observe("link",function(e){t.link=n.link}),n.$observe("target",function(e){t.target=n.target})},template:'<a class="{{link == undefined && \'noTileLink\' || \'\'}}" href="{{link != undefined && link || \'#\'}}" target="{{target}}" style="text-decoration: none;"><div class="{{tileType}}" ng-style="{\'background-color\': color != undefined && color || setRandomColors[0]}" ng-href="link"><div class="iconPos"><i class ="{{icon}}"></i></div><p class="middle"><b>{{stat}}</b></p><div class="title"><b>{{title}}</b></div></div></a>'}}]).directive("tiles",["ngTileSettings",function(e){return{restrict:"E",scope:{tileParams:"="},link:function(t,i,n){t.$watch("tileParams",function(i){i&&(t.setRandomColors=e.setRandomColors(t.tileParams.colors,t.tileParams.data))})},template:'<a ng-repeat="i in tileParams.data" class ="{{tileParams.data[$index].link == undefined && \'noTileLink\' || \'\'}}" href="{{tileParams.data[$index].link != undefined && tileParams.data[$index].link || \'#\'}}" target="{{tileParams.data[$index].target}}" style="text-decoration: none;"><div class ="{{tileParams.colSize}} tileCol"><div class ="{{tileParams.tileType}}" ng-style="{\'background-color\': setRandomColors[$index]}"><div class="iconPos"><i class="{{i.icon}}"></i></div><p class="middle"><b>{{i.stat}}</b></p><div class="title"><b>{{i.title}}</b></div></div></div></a>'}}]);